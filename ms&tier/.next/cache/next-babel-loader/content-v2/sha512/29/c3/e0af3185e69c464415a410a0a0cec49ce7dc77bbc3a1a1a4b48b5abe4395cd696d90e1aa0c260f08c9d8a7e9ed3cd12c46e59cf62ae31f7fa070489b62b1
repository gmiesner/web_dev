{"ast":null,"code":"import courses from \"../../data/courses.json\";\nexport default function handler(req, res) {\n  const query = req.query.query.toLowerCase();\n\n  if (!query) {\n    return;\n  }\n\n  const results = courses.filter(course => course.number.toLowerCase().includes(query) || course.title.toLowerCase().includes(query)); // remove duplicates: https://dev.to/marinamosti/removing-duplicates-in-an-array-of-objects-in-js-with-sets-3fep\n\n  const uniqueResults = Array.from(new Set(results.map(course => course.number))).map(number => {\n    return courses.find(course => course.number === number);\n  });\n  res.status(200).json(uniqueResults);\n}","map":{"version":3,"sources":["/Users/gmiesner/Documents/personal-code/web_dev/ms&tier/pages/api/courses.js"],"names":["courses","handler","req","res","query","toLowerCase","results","filter","course","number","includes","title","uniqueResults","Array","from","Set","map","find","status","json"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AAEA,eAAe,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACxC,QAAMC,KAAK,GAAGF,GAAG,CAACE,KAAJ,CAAUA,KAAV,CAAgBC,WAAhB,EAAd;;AACA,MAAI,CAACD,KAAL,EAAY;AACV;AACD;;AACD,QAAME,OAAO,GAAGN,OAAO,CAACO,MAAR,CACbC,MAAD,IACEA,MAAM,CAACC,MAAP,CAAcJ,WAAd,GAA4BK,QAA5B,CAAqCN,KAArC,KACAI,MAAM,CAACG,KAAP,CAAaN,WAAb,GAA2BK,QAA3B,CAAoCN,KAApC,CAHY,CAAhB,CALwC,CAUxC;;AACA,QAAMQ,aAAa,GAAGC,KAAK,CAACC,IAAN,CACpB,IAAIC,GAAJ,CAAQT,OAAO,CAACU,GAAR,CAAaR,MAAD,IAAYA,MAAM,CAACC,MAA/B,CAAR,CADoB,EAEpBO,GAFoB,CAEfP,MAAD,IAAY;AAChB,WAAOT,OAAO,CAACiB,IAAR,CAAcT,MAAD,IAAYA,MAAM,CAACC,MAAP,KAAkBA,MAA3C,CAAP;AACD,GAJqB,CAAtB;AAKAN,EAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,aAArB;AACD","sourcesContent":["import courses from \"../../data/courses.json\";\n\nexport default function handler(req, res) {\n  const query = req.query.query.toLowerCase();\n  if (!query) {\n    return;\n  }\n  const results = courses.filter(\n    (course) =>\n      course.number.toLowerCase().includes(query) ||\n      course.title.toLowerCase().includes(query)\n  );\n  // remove duplicates: https://dev.to/marinamosti/removing-duplicates-in-an-array-of-objects-in-js-with-sets-3fep\n  const uniqueResults = Array.from(\n    new Set(results.map((course) => course.number))\n  ).map((number) => {\n    return courses.find((course) => course.number === number);\n  });\n  res.status(200).json(uniqueResults);\n}\n"]},"metadata":{},"sourceType":"module"}